---
const CloseIcon = `
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5">
        <path d="M18 6 6 18"/><path d="m6 6 12 12"/>
    </svg>
`;
---

<div id="cookie-consent-popup" class="fixed bottom-4 left-4 z-50 max-w-sm" style="display: none;">
    <div class="transition duration-100 bg-white p-4 rounded-lg shadow-2xl border border-gray-200 relative">
        
        <button 
            id="consent-close"
            aria-label="閉じる"
            class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition"
        >
            <Fragment set:html={CloseIcon} />
        </button>
        
        <p class="text-sm text-gray-700 pr-6">
            当サイトでは、トラフィック分析のためにクッキーを使用しています。
            <a href="/privacy-policy" 
                class="text-blue-600 hover:text-blue-800 font-medium underline" 
                target="_blank" 
                rel="noopener noreferrer"
            >
                クッキーポリシー
            </a>
            をご確認ください。
        </p>
    
        <div class="mt-4 flex space-x-3">
            <button 
                id="consent-accept"
                class="flex-1 border border-[#E78B30] text-[#E78B30] hover:bg-[#E78B30] hover:text-white text-sm font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"
            >
                同意する
            </button>
        
            <button 
                id="consent-reject"
                class="flex-1 border border-gray-600 text-gray-600 hover:bg-gray-100 text-sm font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out"
            >
                拒否
            </button>
        </div>
    </div>
</div>

<script type="module" src="../scripts/cookie-consent.js" is:inline></script>