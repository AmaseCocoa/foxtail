---
const { host, id, secure = true } = Astro.props;

let scheme: string;
if (secure) {
    scheme = 'https'
} else {
    scheme = 'http'
}

const embedId = crypto.randomUUID();
---

<iframe
    src={`${scheme}://${host}/embed/notes/${id}`}
    data-misskey-embed-id={embedId}
    loading="lazy"
    referrerpolicy="strict-origin-when-cross-origin"
    style="border: none; width: 100%; max-width: 500px; height: 300px; color-scheme: light dark;"
></iframe>
